{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["// pixabay-api.js\nconst API_KEY = '47406672-32912a9d4734ffdd3d590f70b';\nconst BASE_URL = 'https://pixabay.com/api/';\n\n/**\n * Fetches images from Pixabay API\n * @param {string} query \n * @param {number} page \n * @param {number} perPage \n * @returns {Promise} \n */\nexport const fetchImages = async (query, page = 1, perPage = 40) => {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n  const response = await fetch(url);\n  if (!response.ok) {\n    throw new Error('Failed to fetch images');\n  }\n  return response.json();\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n/**\n * Renders gallery markup\n * @param {Array} images \n * @returns {string} \n */\nexport const renderGallery = (images) => {\n  return images\n    .map(\n      ({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n    <div class=\"photo-card\">\n      <a class=\"card\" href=\"${largeImageURL}\" >\n        <img class=\"card-imege\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n      </a>\n      <div class=\"info\">\n        <p><b>Likes:</b> ${likes}</p>\n        <p><b>Views:</b> ${views}</p>\n        <p><b>Comments:</b> ${comments}</p>\n        <p><b>Downloads:</b> ${downloads}</p>\n      </div>\n    </div>\n  `\n    )\n    .join('');\n};\n\nexport const initializeLightbox = () => new SimpleLightbox('.gallery a');\n","\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery, initializeLightbox } from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('#search-form');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nlet lightbox;\nlet currentPage = 1;\nlet currentQuery = '';\n\nconst showLoader = () => (loader.style.display = 'block');\nconst hideLoader = () => (loader.style.display = 'none');\n\nconst handleSearch = async (event) => {\n  event.preventDefault();\n\n  const query = event.currentTarget.elements.query.value.trim();\n  if (!query) {\n    iziToast.error({ title: 'Error', message: 'Please enter a search query' });\n    return;\n  }\n\n  gallery.innerHTML = '';\n  currentQuery = query;\n  currentPage = 1;\n\n  showLoader();\n  try {\n    const data = await fetchImages(query, currentPage);\n    if (data.hits.length === 0) {\n      iziToast.warning({ title: 'No results', message: 'No images found!' });\n    } else {\n      gallery.innerHTML = renderGallery(data.hits);\n      lightbox = initializeLightbox();\n    }\n  } catch (error) {\n    iziToast.error({ title: 'Error', message: error.message });\n  } finally {\n    hideLoader();\n  }\n};\n\nsearchForm.addEventListener('submit', handleSearch);"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","response","renderGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","initializeLightbox","SimpleLightbox","searchForm","gallery","loader","lightbox","currentPage","showLoader","hideLoader","handleSearch","event","iziToast","data","error"],"mappings":"6vBACA,MAAMA,EAAU,qCACVC,EAAW,2BASJC,EAAc,MAAOC,EAAOC,EAAO,EAAGC,EAAU,KAAO,CAClE,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAM,mBAAmBG,CAAK,CAAC,iEAAiEC,CAAI,aAAaC,CAAO,GAExJE,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAE1C,OAAOA,EAAS,MAClB,ECXaC,EAAiBC,GACrBA,EACJ,IACC,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAO;AAAA;AAAA,8BAEtDL,CAAa;AAAA,uCACJD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,2BAGtCC,CAAK;AAAA,2BACLC,CAAK;AAAA,8BACFC,CAAQ;AAAA,+BACPC,CAAS;AAAA;AAAA;AAAA,GAInC,EACA,KAAK,EAAE,EAGCC,EAAqB,IAAM,IAAIC,EAAe,YAAY,ECtBjEC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EACAC,EAAc,EAGlB,MAAMC,EAAa,IAAOH,EAAO,MAAM,QAAU,QAC3CI,EAAa,IAAOJ,EAAO,MAAM,QAAU,OAE3CK,EAAe,MAAOC,GAAU,CACpCA,EAAM,eAAc,EAEpB,MAAMxB,EAAQwB,EAAM,cAAc,SAAS,MAAM,MAAM,OACvD,GAAI,CAACxB,EAAO,CACVyB,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,6BAA6B,CAAE,EACzE,MACD,CAEDR,EAAQ,UAAY,GAEpBG,EAAc,EAEdC,IACA,GAAI,CACF,MAAMK,EAAO,MAAM3B,EAAYC,EAAOoB,CAAW,EAC7CM,EAAK,KAAK,SAAW,EACvBD,EAAS,QAAQ,CAAE,MAAO,aAAc,QAAS,kBAAkB,CAAE,GAErER,EAAQ,UAAYZ,EAAcqB,EAAK,IAAI,EAC3CP,EAAWL,EAAkB,EAEhC,OAAQa,EAAO,CACdF,EAAS,MAAM,CAAE,MAAO,QAAS,QAASE,EAAM,OAAO,CAAE,CAC7D,QAAY,CACRL,GACD,CACH,EAEAN,EAAW,iBAAiB,SAAUO,CAAY"}